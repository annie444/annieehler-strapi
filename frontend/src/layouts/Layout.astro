---
import "../styles/global.css";
import "../styles/fonts.css";

import CommonHead from "@components/CommonHead.astro";
import Header from "@components/Header.astro";
import Theme from "@components/Theme.astro";
import ToggleTheme from "@components/svelte/ToggleTheme.svelte";
import Footer from "@components/Footer.astro";

import type { MetaProps } from "@utils/content/meta";

type Props = MetaProps;

const siteMeta: Props = Astro.props;
---

<!doctype html>
<html lang="en">
  <CommonHead {...siteMeta} />
  <body class="font-suse bg-background text-foreground m-0 w-full p-0">
    <Theme defaultTheme="dark" />
    <Header title={siteMeta.name} links={siteMeta.links} />
    <main>
      <slot />
    </main>
    <Footer />
    <ToggleTheme
      class="fixed right-4 bottom-4 rounded-full md:right-8 md:bottom-8 xl:right-12 xl:bottom-12"
      client:load
    />
  </body>
</html>

<style is:global>
  @reference "../styles/global.css";

  :root {
    --scrollbar-vert-start: url("/scroll/vert-start-light.svg");
    --scrollbar-vert-start-active: url("/scroll/vert-start-active-light.svg");
    --scrollbar-vert-end: url("/scroll/vert-end-light.svg");
    --scrollbar-vert-end-active: url("/scroll/vert-end-active-light.svg");
    --scrollbar-horiz-start: url("/scroll/horiz-start-light.svg");
    --scrollbar-horiz-start-active: url("/scroll/horiz-start-active-light.svg");
    --scrollbar-horiz-end: url("/scroll/horiz-end-light.svg");
    --scrollbar-horiz-end-active: url("/scroll/horiz-end-active-light.svg");
  }

  :where(.dark, .dark *, [data-theme="dark"], [data-theme="dark"] *) {
    --scrollbar-vert-start: url("/scroll/vert-start-dark.svg");
    --scrollbar-vert-start-active: url("/scroll/vert-start-active-dark.svg");
    --scrollbar-vert-end: url("/scroll/vert-end-dark.svg");
    --scrollbar-vert-end-active: url("/scroll/vert-end-active-dark.svg");
    --scrollbar-horiz-start: url("/scroll/horiz-start-dark.svg");
    --scrollbar-horiz-start-active: url("/scroll/horiz-start-active-dark.svg");
    --scrollbar-horiz-end: url("/scroll/horiz-end-dark.svg");
    --scrollbar-horiz-end-active: url("/scroll/horiz-end-active-dark.svg");
  }

  ::-webkit-scrollbar {
    @apply bg-grey-light w-5.5;
  }

  ::-webkit-scrollbar-track {
    @apply bg-grey-light w-2.5;
    background:
      linear-gradient(
        45deg,
        var(--color-foreground) 25%,
        transparent 0,
        transparent 75%,
        var(--color-foreground) 0,
        var(--color-foreground)
      ),
      linear-gradient(
        45deg,
        var(--color-foreground) 25%,
        transparent 0,
        transparent 75%,
        var(--color-foreground) 0,
        var(--color-foreground)
      );
    background-position:
      0 0,
      2px 2px;
    background-size: 4px 4px;
    border-left: 3px solid var(--color-foreground);
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-grey-light box-content w-5;
    border-color: var(--color-foreground);
    border-width: 2px none 2px 2px;
    border-style: solid;
  }

  ::-webkit-scrollbar-button:horizontal:end:increment,
  ::-webkit-scrollbar-button:horizontal:start:decrement,
  ::-webkit-scrollbar-button:vertical:end:increment,
  ::-webkit-scrollbar-button:vertical:start:decrement {
    @apply block;
  }

  ::-webkit-scrollbar-button:vertical:start {
    @apply h-[23.38px];
    background-image: var(--scrollbar-vert-start);
    background-repeat: no-repeat;
  }

  ::-webkit-scrollbar-button:vertical:start:active {
    @apply h-[23.38px];
    background-image: var(--scrollbar-vert-start-active);
    background-repeat: no-repeat;
  }

  ::-webkit-scrollbar-button:vertical:end {
    @apply h-[23.38px];
    background-image: var(--scrollbar-vert-end);
  }

  ::-webkit-scrollbar-button:vertical:end:active {
    @apply h-[23.38px];
    background-image: var(--scrollbar-vert-end-active);
    background-repeat: no-repeat;
  }

  ::-webkit-scrollbar-button:horizontal:start {
    @apply h-[23.38px];
    background-image: var(--scrollbar-horiz-start);
    background-repeat: no-repeat;
  }

  ::-webkit-scrollbar-button:horizontal:start:active {
    @apply h-[23.38px];
    background-image: var(--scrollbar-horiz-start-active);
    background-repeat: no-repeat;
  }

  ::-webkit-scrollbar-button:horizontal:end {
    @apply h-[23.38px];
    background-image: var(--scrollbar-horiz-end);
  }

  ::-webkit-scrollbar-button:horizontal:end:active {
    @apply h-[23.38px];
    background-image: var(--scrollbar-horiz-end-active);
    background-repeat: no-repeat;
  }

  .window-pane::-webkit-scrollbar {
    @apply bg-grey-light w-5.5;
  }

  .window-pane::-webkit-scrollbar-track {
    @apply bg-grey-light w-2.5;
    background:
      linear-gradient(
        45deg,
        var(--color-foreground) 25%,
        transparent 0,
        transparent 75%,
        var(--color-foreground) 0,
        var(--color-foreground)
      ),
      linear-gradient(
        45deg,
        var(--color-foreground) 25%,
        transparent 0,
        transparent 75%,
        var(--color-foreground) 0,
        var(--color-foreground)
      );
    background-position:
      0 0,
      2px 2px;
    background-size: 4px 4px;
    border-left: 3px solid var(--color-foreground);
  }

  .window-pane::-webkit-scrollbar-thumb {
    @apply bg-grey-light box-content w-5;
    border-color: var(--color-foreground);
    border-width: 2px none 2px 2px;
    border-style: solid;
  }

  .window-pane::-webkit-scrollbar-button:horizontal:end:increment,
  ::-webkit-scrollbar-button:horizontal:start:decrement,
  ::-webkit-scrollbar-button:vertical:end:increment,
  ::-webkit-scrollbar-button:vertical:start:decrement {
    @apply block;
  }

  .window-pane::-webkit-scrollbar-button:vertical:start {
    @apply h-[23.38px];
    background-image: var(--scrollbar-vert-start);
    background-repeat: no-repeat;
  }

  .window-pane::-webkit-scrollbar-button:vertical:start:active {
    @apply h-[23.38px];
    background-image: var(--scrollbar-vert-start-active);
    background-repeat: no-repeat;
  }

  .window-pane::-webkit-scrollbar-button:vertical:end {
    @apply h-[23.38px];
    background-image: var(--scrollbar-vert-end);
  }

  .window-pane::-webkit-scrollbar-button:vertical:end:active {
    @apply h-[23.38px];
    background-image: var(--scrollbar-vert-end-active);
    background-repeat: no-repeat;
  }

  .window-pane::-webkit-scrollbar-button:horizontal:start {
    @apply h-[23.38px];
    background-image: var(--scrollbar-horiz-start);
    background-repeat: no-repeat;
  }

  .window-pane::-webkit-scrollbar-button:horizontal:start:active {
    @apply h-[23.38px];
    background-image: var(--scrollbar-horiz-start-active);
    background-repeat: no-repeat;
  }

  .window-pane::-webkit-scrollbar-button:horizontal:end {
    @apply h-[23.38px];
    background-image: var(--scrollbar-horiz-end);
  }

  .window-pane::-webkit-scrollbar-button:horizontal:end:active {
    @apply h-[23.38px];
    background-image: var(--scrollbar-horiz-end-active);
    background-repeat: no-repeat;
  }
</style>
